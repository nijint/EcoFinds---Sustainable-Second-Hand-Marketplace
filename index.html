<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoFinds - Sustainable Marketplace</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50">

    <!-- ── Navigation ─────────────────────────────────────── -->
    <nav class="blur-bg border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center cursor-pointer group" onclick="showHome()">
                    <div class="w-12 h-12 eco-gradient rounded-full flex items-center justify-center mr-3 group-hover:scale-110 transition-transform">
                        <i class="fas fa-leaf text-white text-xl"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800 font-display">EcoFinds</h1>
                </div>

                <!-- Authenticated Navigation -->
                <div id="authNav" class="hidden md:flex space-x-8">
                    <a href="#" onclick="showHome()" class="text-gray-700 hover:text-teal-600 transition-colors font-medium">Home</a>
                    <a href="#" onclick="showMyListings()" class="text-gray-700 hover:text-teal-600 transition-colors font-medium">My Listings</a>
                    <a href="#" onclick="showCart()" class="text-gray-700 hover:text-teal-600 transition-colors font-medium flex items-center">
                        <i class="fas fa-shopping-cart mr-2"></i>
                        Cart <span id="cartCount" class="ml-1 bg-teal-500 text-white text-xs px-2 py-1 rounded-full">0</span>
                    </a>
                    <a href="#" onclick="showPurchases()" class="text-gray-700 hover:text-teal-600 transition-colors font-medium">Orders</a>
                    <a href="#" onclick="showDashboard()" class="text-gray-700 hover:text-teal-600 transition-colors font-medium">Dashboard</a>
                </div>

                <div class="flex space-x-3 items-center">
                    <!-- Unauthenticated buttons -->
                    <div id="unauthButtons">
                        <button onclick="showLogin()" class="text-gray-700 hover:text-teal-600 px-4 py-2 rounded-lg font-medium transition-colors">Log In</button>
                        <button onclick="showSignup()" class="btn-primary px-6 py-2 rounded-lg font-medium transition-all transform hover:scale-105 shadow-md">Sign Up</button>
                    </div>
                    <!-- Authenticated buttons -->
                    <div id="authButtons" class="hidden">
                        <button onclick="showAddProduct()" class="btn-primary px-4 py-2 rounded-lg font-medium transition-all transform hover:scale-105 flex items-center shadow-md">
                            <i class="fas fa-plus mr-2"></i>Sell Item
                        </button>
                        <button onclick="logout()" class="text-gray-700 hover:text-red-600 px-4 py-2 rounded-lg font-medium transition-colors">
                            <i class="fas fa-sign-out-alt mr-2"></i>Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- ── Main Content ────────────────────────────────────── -->
    <div id="app">

        <!-- Home / Landing Page -->
        <div id="homePage" class="page">

            <!-- Hero -->
            <header class="relative eco-gradient text-white overflow-hidden min-h-screen flex items-center">
                <div class="absolute inset-0 bg-black opacity-20"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-teal-600/30 to-green-600/30"></div>
                <div class="relative container mx-auto px-4 py-20">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                        <div class="text-center lg:text-left">
                            <h2 class="text-5xl lg:text-6xl font-bold leading-tight mb-6 font-display text-white">
                                Discover Unique Items,
                                <span class="text-teal-200 block">Sustain Our Planet</span>
                            </h2>
                            <p class="text-xl mb-8 text-gray-100 max-w-2xl">
                                Join the sustainable revolution! Buy and sell pre-loved treasures on EcoFinds, where every purchase makes a difference for our planet.
                            </p>
                            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center lg:justify-start">
                                <button onclick="showProducts()" class="bg-white text-teal-700 hover:bg-gray-100 px-8 py-4 rounded-full font-semibold transition-all transform hover:scale-105 flex items-center justify-center shadow-lg">
                                    <i class="fas fa-shopping-bag mr-3"></i>Start Shopping
                                </button>
                                <button onclick="showAddProduct()" class="border-2 border-white text-white hover:bg-white hover:text-teal-700 px-8 py-4 rounded-full font-semibold transition-all transform hover:scale-105 flex items-center justify-center">
                                    <i class="fas fa-store mr-3"></i>Sell an Item
                                </button>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="floating">
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 hover-lift">
                                        <i class="fas fa-recycle text-4xl text-teal-200 mb-4"></i>
                                        <h3 class="font-semibold text-lg mb-2 text-white">Eco-Friendly</h3>
                                        <p class="text-sm text-gray-200">Reduce waste by giving items a second life</p>
                                    </div>
                                    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 hover-lift mt-8">
                                        <i class="fas fa-heart text-4xl text-pink-300 mb-4"></i>
                                        <h3 class="font-semibold text-lg mb-2 text-white">Community</h3>
                                        <p class="text-sm text-gray-200">Connect with like-minded eco-warriors</p>
                                    </div>
                                    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 hover-lift">
                                        <i class="fas fa-dollar-sign text-4xl text-yellow-300 mb-4"></i>
                                        <h3 class="font-semibold text-lg mb-2 text-white">Save Money</h3>
                                        <p class="text-sm text-gray-200">Find amazing deals on quality items</p>
                                    </div>
                                    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 hover-lift mt-8">
                                        <i class="fas fa-globe text-4xl text-blue-300 mb-4"></i>
                                        <h3 class="font-semibold text-lg mb-2 text-white">Impact</h3>
                                        <p class="text-sm text-gray-200">Make a positive environmental impact</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Search -->
            <section class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="max-w-3xl mx-auto text-center mb-12">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4 font-display">Find Your Next Treasure</h2>
                        <p class="text-xl text-gray-600 mb-8">Search through thousands of sustainable finds from our community</p>
                        <div class="relative">
                            <input type="text" id="searchInput" placeholder="Search for sustainable finds..."
                                   class="form-input w-full pl-16 pr-16 py-5 rounded-2xl text-lg transition-all focus:shadow-xl"/>
                            <i class="fas fa-search absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl"></i>
                            <button onclick="searchProducts()" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-teal-500 text-white p-3 rounded-xl hover:bg-teal-600 transition-colors">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Categories -->
                    <div class="text-center mb-12">
                        <h3 class="text-2xl font-bold text-gray-800 mb-8">Popular Categories</h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 stagger-animation">
                            <div class="group bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Furniture')">
                                <div class="w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-couch text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">Furniture</h4>
                                <p class="text-sm text-gray-600 mt-1">Chairs, Tables & More</p>
                            </div>
                            <div class="group bg-gradient-to-br from-pink-50 to-pink-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Clothing')">
                                <div class="w-16 h-16 bg-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-tshirt text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">Clothing</h4>
                                <p class="text-sm text-gray-600 mt-1">Fashion & Accessories</p>
                            </div>
                            <div class="group bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Electronics')">
                                <div class="w-16 h-16 bg-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-laptop text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">Electronics</h4>
                                <p class="text-sm text-gray-600 mt-1">Gadgets & Devices</p>
                            </div>
                            <div class="group bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Books')">
                                <div class="w-16 h-16 bg-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-book text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">Books</h4>
                                <p class="text-sm text-gray-600 mt-1">Literature & Learning</p>
                            </div>
                            <div class="group bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Sports')">
                                <div class="w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-basketball-ball text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">Sports</h4>
                                <p class="text-sm text-gray-600 mt-1">Fitness & Recreation</p>
                            </div>
                            <div class="group bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 text-center transition-all hover:shadow-lg cursor-pointer hover-lift" onclick="filterByCategory('Other')">
                                <div class="w-16 h-16 bg-gray-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                    <i class="fas fa-ellipsis-h text-white text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-gray-800">More</h4>
                                <p class="text-sm text-gray-600 mt-1">Everything Else</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Products -->
            <section class="py-20 bg-gradient-to-br from-gray-50 to-white">
                <div class="container mx-auto px-4">
                    <div class="flex justify-between items-center mb-12">
                        <div>
                            <h2 class="text-4xl font-bold text-gray-800 font-display">Featured Finds</h2>
                            <p class="text-xl text-gray-600 mt-2">Handpicked sustainable treasures from our community</p>
                        </div>
                        <button onclick="showProducts()" class="text-teal-600 hover:text-teal-700 flex items-center text-lg font-semibold transition-colors">
                            View All <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                    <div id="featuredProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 stagger-animation">
                        <!-- Populated by app.js -->
                    </div>
                </div>
            </section>

            <!-- Stats -->
            <section class="py-20 eco-gradient text-white">
                <div class="container mx-auto px-4 text-center">
                    <h2 class="text-4xl font-bold mb-4 font-display">Our Impact Together</h2>
                    <p class="text-xl mb-12 text-teal-100">Making a difference, one purchase at a time</p>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <div class="text-center"><div class="text-5xl font-bold mb-2 text-white">10K+</div><div class="text-teal-200">Items Saved</div></div>
                        <div class="text-center"><div class="text-5xl font-bold mb-2 text-white">5K+</div><div class="text-teal-200">Happy Users</div></div>
                        <div class="text-center"><div class="text-5xl font-bold mb-2 text-white">25T</div><div class="text-teal-200">CO₂ Saved (kg)</div></div>
                        <div class="text-center"><div class="text-5xl font-bold mb-2 text-white">$500K</div><div class="text-teal-200">Money Saved</div></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Products Page -->
        <div id="productsPage" class="page hide">
            <div class="container mx-auto px-4 py-8">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-800 font-display">All Products</h1>
                            <p class="text-gray-600 mt-2">Discover amazing sustainable finds from our community</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <select id="categoryFilter" class="form-input px-4 py-3 rounded-xl">
                                <option value="">All Categories</option>
                                <option value="Furniture">Furniture</option>
                                <option value="Clothing">Clothing</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Books">Books</option>
                                <option value="Sports">Sports</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="productsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                    <!-- Populated by app.js -->
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="loginPage" class="page hide">
            <div class="min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-teal-50 to-blue-50">
                <div class="max-w-md w-full">
                    <div class="modal-content rounded-3xl shadow-2xl p-8">
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 eco-gradient rounded-2xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-leaf text-white text-2xl"></i>
                            </div>
                            <h2 class="text-3xl font-bold text-gray-800 font-display">Welcome Back</h2>
                            <p class="text-gray-600 mt-2">Sign in to continue your sustainable journey</p>
                        </div>
                        <form id="loginForm" class="space-y-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Email Address</label>
                                <input type="email" id="loginEmail" required class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                                <input type="password" id="loginPassword" required class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <button type="submit" class="btn-primary w-full py-3 px-4 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg">Sign In</button>
                        </form>
                        <div class="text-center mt-6">
                            <p class="text-gray-600">Don't have an account?
                                <button onclick="showSignup()" class="text-teal-600 hover:text-teal-500 font-semibold">Sign up</button>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Signup Page -->
        <div id="signupPage" class="page hide">
            <div class="min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-teal-50 to-blue-50">
                <div class="max-w-md w-full">
                    <div class="modal-content rounded-3xl shadow-2xl p-8">
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 eco-gradient rounded-2xl flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-leaf text-white text-2xl"></i>
                            </div>
                            <h2 class="text-3xl font-bold text-gray-800 font-display">Join EcoFinds</h2>
                            <p class="text-gray-600 mt-2">Start your sustainable marketplace journey</p>
                        </div>
                        <form id="signupForm" class="space-y-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Username</label>
                                <input type="text" id="signupUsername" required class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Email Address</label>
                                <input type="email" id="signupEmail" required class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                                <input type="password" id="signupPassword" required class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <button type="submit" class="btn-primary w-full py-3 px-4 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg">Create Account</button>
                        </form>
                        <div class="text-center mt-6">
                            <p class="text-gray-600">Already have an account?
                                <button onclick="showLogin()" class="text-teal-600 hover:text-teal-500 font-semibold">Sign in</button>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Product Page -->
        <div id="addProductPage" class="page hide">
            <div class="container mx-auto px-4 py-8 max-w-2xl">
                <div class="modal-content rounded-3xl shadow-2xl p-8">
                    <div class="flex items-center mb-8">
                        <button onclick="showHome()" class="mr-4 p-3 hover:bg-gray-100 rounded-full transition-colors">
                            <i class="fas fa-arrow-left text-xl text-gray-700"></i>
                        </button>
                        <div>
                            <h1 class="text-3xl font-bold text-gray-800 font-display">List Your Item</h1>
                            <p class="text-gray-600 mt-1">Share your sustainable treasure with the community</p>
                        </div>
                    </div>
                    <form id="addProductForm" class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Product Title</label>
                            <input type="text" id="productTitle" required class="form-input w-full px-4 py-3 rounded-xl">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Category</label>
                            <select id="productCategory" required class="form-input w-full px-4 py-3 rounded-xl">
                                <option value="">Select a category</option>
                                <option value="Furniture">Furniture</option>
                                <option value="Clothing">Clothing</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Books">Books</option>
                                <option value="Sports">Sports</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Description</label>
                            <textarea id="productDescription" rows="4" required class="form-input w-full px-4 py-3 rounded-xl"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Price ($)</label>
                            <input type="number" id="productPrice" step="0.01" min="0" required class="form-input w-full px-4 py-3 rounded-xl">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Image URL</label>
                            <input type="url" id="productImage" class="form-input w-full px-4 py-3 rounded-xl" placeholder="https://example.com/image.jpg">
                        </div>
                        <button type="submit" class="btn-primary w-full py-4 px-6 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg">
                            <i class="fas fa-plus mr-2"></i>List Item
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Edit Product Page -->
        <div id="editProductPage" class="page hide">
            <div class="container mx-auto px-4 py-8 max-w-2xl">
                <div class="modal-content rounded-3xl shadow-2xl p-8">
                    <div class="flex items-center mb-8">
                        <button onclick="showMyListings()" class="mr-4 p-3 hover:bg-gray-100 rounded-full transition-colors">
                            <i class="fas fa-arrow-left text-xl text-gray-700"></i>
                        </button>
                        <div>
                            <h1 class="text-3xl font-bold text-gray-800 font-display">Edit Product</h1>
                            <p class="text-gray-600 mt-1">Update your listing details</p>
                        </div>
                    </div>
                    <form id="editProductForm" class="space-y-6">
                        <input type="hidden" id="editProductId">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Product Title</label>
                            <input type="text" id="editProductTitle" required class="form-input w-full px-4 py-3 rounded-xl">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Category</label>
                            <select id="editProductCategory" required class="form-input w-full px-4 py-3 rounded-xl">
                                <option value="">Select a category</option>
                                <option value="Furniture">Furniture</option>
                                <option value="Clothing">Clothing</option>
                                <option value="Electronics">Electronics</option>
                                <option value="Books">Books</option>
                                <option value="Sports">Sports</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Description</label>
                            <textarea id="editProductDescription" rows="4" required class="form-input w-full px-4 py-3 rounded-xl"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Price ($)</label>
                            <input type="number" id="editProductPrice" step="0.01" min="0" required class="form-input w-full px-4 py-3 rounded-xl">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Image URL</label>
                            <input type="url" id="editProductImage" class="form-input w-full px-4 py-3 rounded-xl">
                        </div>
                        <button type="submit" class="btn-primary w-full py-4 px-6 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg">
                            <i class="fas fa-save mr-2"></i>Update Product
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- My Listings Page -->
        <div id="myListingsPage" class="page hide">
            <div class="container mx-auto px-4 py-8">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <div class="flex justify-between items-center">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-800 font-display">My Listings</h1>
                            <p class="text-gray-600 mt-2">Manage your sustainable marketplace items</p>
                        </div>
                        <button onclick="showAddProduct()" class="btn-primary px-6 py-3 rounded-xl font-semibold transition-all transform hover:scale-105 flex items-center shadow-lg">
                            <i class="fas fa-plus mr-2"></i>Add Product
                        </button>
                    </div>
                </div>
                <div id="myListingsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                    <!-- Populated by app.js -->
                </div>
            </div>
        </div>

        <!-- Product Detail Page -->
        <div id="productDetailPage" class="page hide">
            <div class="container mx-auto px-4 py-8 max-w-6xl">
                <button onclick="showHome()" class="mb-8 flex items-center text-teal-600 hover:text-teal-700 transition-colors font-medium">
                    <i class="fas fa-arrow-left mr-2"></i>Back to products
                </button>
                <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 p-8">
                        <div class="space-y-4">
                            <div class="aspect-w-1 aspect-h-1">
                                <img id="productDetailImage" src="" alt="" class="w-full h-96 object-cover rounded-2xl shadow-lg">
                            </div>
                        </div>
                        <div class="space-y-6">
                            <div>
                                <h1 id="productDetailTitle" class="text-4xl font-bold text-gray-800 mb-4 font-display"></h1>
                                <p id="productDetailPrice" class="text-3xl font-bold text-teal-600 mb-4"></p>
                                <div class="flex items-center mb-4">
                                    <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1 rounded-full">
                                        <span id="productDetailCategory"></span>
                                    </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 mb-3">Description</h3>
                                <div class="bg-gray-50 rounded-2xl p-6">
                                    <p id="productDetailDescription" class="text-gray-700 leading-relaxed"></p>
                                </div>
                            </div>
                            <div class="bg-gray-50 rounded-2xl p-6">
                                <div class="flex items-center">
                                    <div class="w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center mr-4">
                                        <i class="fas fa-user text-teal-600 text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-800">Seller</p>
                                        <p id="productDetailSeller" class="text-gray-600"></p>
                                    </div>
                                </div>
                            </div>
                            <button id="addToCartBtn" onclick="addToCart()" class="btn-primary w-full py-4 px-6 rounded-2xl font-semibold transition-all transform hover:scale-105 flex items-center justify-center shadow-lg">
                                <i class="fas fa-shopping-cart mr-3"></i>Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cartPage" class="page hide">
            <div class="container mx-auto px-4 py-8 max-w-6xl">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 font-display">Shopping Cart</h1>
                    <p class="text-gray-600 mt-2">Review your sustainable finds before checkout</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div id="cartItems" class="space-y-6"></div>
                        <div id="emptyCart" class="text-center py-16 hide">
                            <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i class="fas fa-shopping-cart text-4xl text-gray-400"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-600 mb-4">Your cart is empty</h3>
                            <p class="text-gray-500 mb-8">Discover amazing sustainable finds to fill it up!</p>
                            <button onclick="showHome()" class="btn-primary px-8 py-4 rounded-xl font-semibold transition-all transform hover:scale-105">Continue Shopping</button>
                        </div>
                    </div>
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-2xl shadow-lg p-8 sticky top-8">
                            <h3 class="text-xl font-bold text-gray-800 mb-6">Order Summary</h3>
                            <div class="space-y-4 mb-6">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Subtotal</span>
                                    <span id="cartSubtotal" class="font-semibold text-gray-800">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Shipping</span>
                                    <span class="font-semibold text-green-600">Free</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Environmental Impact</span>
                                    <span class="font-semibold text-teal-600">Positive!</span>
                                </div>
                                <hr class="border-gray-200">
                                <div class="flex justify-between text-xl font-bold">
                                    <span class="text-gray-800">Total</span>
                                    <span id="cartTotal" class="text-teal-600">$0.00</span>
                                </div>
                            </div>
                            <button id="checkoutBtn" onclick="checkout()" class="btn-primary w-full py-4 rounded-xl font-semibold transition-all transform hover:scale-105 shadow-lg">
                                <i class="fas fa-credit-card mr-2"></i>Proceed to Checkout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Purchases Page -->
        <div id="purchasesPage" class="page hide">
            <div class="container mx-auto px-4 py-8">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 font-display">Order History</h1>
                    <p class="text-gray-600 mt-2">Track your sustainable purchases and their impact</p>
                </div>
                <div id="purchasesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                <div id="noPurchases" class="text-center py-16 hide">
                    <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-receipt text-4xl text-gray-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-600 mb-4">No purchases yet</h3>
                    <p class="text-gray-500 mb-8">Start shopping to see your purchase history!</p>
                    <button onclick="showHome()" class="btn-primary px-8 py-4 rounded-xl font-semibold transition-all transform hover:scale-105">Start Shopping</button>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="page hide">
            <div class="container mx-auto px-4 py-8 max-w-6xl">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 font-display">Dashboard</h1>
                    <p class="text-gray-600 mt-2">Manage your profile and track your impact</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h2 class="text-xl font-bold text-gray-800 mb-6">Profile Information</h2>
                        <form id="profileForm" class="space-y-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Username</label>
                                <input type="text" id="profileUsername" class="form-input w-full px-4 py-3 rounded-xl">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                                <input type="email" id="profileEmail" readonly class="form-input w-full px-4 py-3 rounded-xl bg-gray-50 text-gray-500">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Bio</label>
                                <textarea id="profileBio" rows="3" class="form-input w-full px-4 py-3 rounded-xl" placeholder="Tell us about yourself..."></textarea>
                            </div>
                            <button type="submit" class="btn-primary w-full py-3 rounded-xl font-semibold transition-all transform hover:scale-105">Update Profile</button>
                        </form>
                    </div>
                    <div class="space-y-8">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                            <h3 class="text-xl font-bold text-gray-800 mb-6">Quick Stats</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="text-center p-4 bg-blue-50 rounded-xl">
                                    <div id="activeListings" class="text-3xl font-bold text-blue-600 mb-1">0</div>
                                    <div class="text-sm text-gray-600">Active Listings</div>
                                </div>
                                <div class="text-center p-4 bg-green-50 rounded-xl">
                                    <div id="totalSales" class="text-3xl font-bold text-green-600 mb-1">$0.00</div>
                                    <div class="text-sm text-gray-600">Total Sales</div>
                                </div>
                                <div class="text-center p-4 bg-purple-50 rounded-xl">
                                    <div id="itemsPurchased" class="text-3xl font-bold text-purple-600 mb-1">0</div>
                                    <div class="text-sm text-gray-600">Items Purchased</div>
                                </div>
                                <div class="text-center p-4 bg-teal-50 rounded-xl">
                                    <div id="itemsReused" class="text-3xl font-bold text-teal-600 mb-1">0</div>
                                    <div class="text-sm text-gray-600">Items Reused</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                            <h3 class="text-xl font-bold text-gray-800 mb-6">Environmental Impact</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 bg-green-50 rounded-xl">
                                    <div class="flex items-center">
                                        <i class="fas fa-recycle text-green-600 text-2xl mr-4"></i>
                                        <span class="font-medium text-gray-800">Items Kept from Landfill</span>
                                    </div>
                                    <span id="wasteReduced" class="font-bold text-green-600 text-xl">0</span>
                                </div>
                                <div class="flex items-center justify-between p-4 bg-teal-50 rounded-xl">
                                    <div class="flex items-center">
                                        <i class="fas fa-leaf text-teal-600 text-2xl mr-4"></i>
                                        <span class="font-medium text-gray-800">CO₂ Saved</span>
                                    </div>
                                    <span id="co2Saved" class="font-bold text-teal-600 text-xl">0 kg</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div><!-- /#app -->

    <!-- Toast Notification -->
    <div id="toast" class="fixed top-4 right-4 px-6 py-4 rounded-xl shadow-lg transform translate-x-full transition-transform duration-300 z-50">
        <div class="flex items-center">
            <i id="toastIcon" class="fas fa-check-circle mr-3"></i>
            <span id="toastMessage" class="font-medium"></span>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
